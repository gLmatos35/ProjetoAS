<!DOCTYPE html>
<html>

<head>
    <link href="https://fonts.googleapis.com/css?family=Poppins&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Inter&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Lexend&display=swap" rel="stylesheet" />
    <link href="./css/main.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet"/>

    <title>Document</title>
</head>

<body>
    <div class="phone">
        <div class="barraPreta">
            <span class="time">15:22</span>
            <div class="battery">
                <i class="fas fa-battery-three-quarters battery-icon"></i>
            </div>
            <div class="network">
                <i class="fas fa-signal network-icon"></i>
            </div>
            <div class="sound">
                <i class="fas fa-volume-up sound-icon"></i>
            </div>
        </div>
        
        <div class="profileBanner">
            <span class="profileText">Profile</span>

            <div class="cog">
                <i class="fas fa-cog" style="font-size: 20px;"></i>
            </div>
        </div>

        <span class="usernameProfile">@brunoRiacho_</span>
        <span class="biografia">Atleta - Sprinter 26 anos</span>

        <div class="logoutProfile" id="logoutButton">
            <span class="logoutText">Log Out</span>
        </div>

        <div class="profilePic"></div>
        
        <span class="profileText1">Posts: Followers: Following:</span>
        <span class="profileText2">5 125 231</span>

        <div class="desempenhoDiv">
            <div class="desempenhoBox" id="desempenhoBox"> <!-- Adicionando ID -->
                <div class="icon-desempenho">
                    <i class="fas fa-chart-line"></i>
                </div>
            </div>
            
            <div class="desempenhoText">
                <span>Desempenho Pessoal</span>
            </div>
        </div>

        <div class="bookmarkProfile"></div>
        <div class="photosIconProfile"></div>
        <div class="mentionsProfile"></div>

        <div class="image1Profile"></div>
        <div class="image2Profile"></div>
        <div class="image3Profile"></div>
        <div class="image4Profile"></div>

        <div class="navigation-bar">
            <a href="home.html" class="nav-option">
                <span class="nav-icon home"></span>
            </a>
            <a href="events.html" class="nav-option">
                <span class="nav-icon events"></span>
            </a>
            <a href="rankings.html" class="nav-option">
                <span class="nav-icon rankings"></span>
            </a>
            <a href="messages.html" class="nav-option">
                <span class="nav-icon messages"></span>
            </a>
            <a href="profile.html" class="nav-option">
                <span class="nav-icon profile"></span>
            </a>
        </div>
    </div>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        // Recupera a sessão atual do usuário da sessionStorage
        var currentSession = sessionStorage.getItem('currentSession');
        console.log("Current session:", currentSession);

        // Verifica se currentSession está definido
        if (!currentSession) {
            console.error('Current session not found.');
            return;
        }

        // Recupera os dados do usuário da sessionStorage
        var users = sessionStorage.getItem('users');
        
        // Verifica se users está definido
        if (!users) {
            console.error('Users data not found.');
            return;
        }

        users = JSON.parse(users);
        console.log("Users data:", users);

        var usersData = users[currentSession];
        console.log("User data for current session:", usersData);

        // Verifica se os dados do usuário foram encontrados
        if (!usersData) {
            console.error('User data for current session not found.');
            return;
        }

        // Atualiza dinamicamente o nome de usuário na página de perfil
        if (usersData) {
            var username = currentSession.split('@')[0];
            document.querySelector('.usernameProfile').textContent = "@" + username;
        }

        // Adiciona um ouvinte de evento de clique à desempenhoBox
        var desempenhoBox = document.getElementById("desempenhoBox");
        if (desempenhoBox) {
            desempenhoBox.addEventListener("click", function() {
                // Redireciona para desempenho.html
                window.location.href = "desempenho.html";
            });
        } else {
            console.warn("#desempenhoBox not found");
        }

        // Adiciona um ouvinte de evento de clique ao botão de logout
        var logoutButton = document.getElementById("logoutButton");
        if (logoutButton) {
            logoutButton.addEventListener("click", function() {
                // Redireciona para login.html
                window.location.href = "login.html";
            });
        } else {
            console.warn("#logoutButton not found");
        }
    });
</script>
    
<script src="js/nav.js"></script>
</body>

</html>
